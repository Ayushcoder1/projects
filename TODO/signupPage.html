<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign up page</title>
</head>
<body>
    <div style="display: flex; justify-content: center;">
    <div style="display: flex; justify-content: center; background-color: rgb(237, 233, 233);
    border: 2px solid black; border-radius: 4px; width: 250px;">
        <div>
            <p style="margin-bottom: 5px; font-weight: bold;">Email address</p>
            <input id="username" type="text" placeholder="email" style="border-radius: 2px;
             border: 1px solid white; width: 200px; padding: 5px;">
            <p style="margin-bottom: 5px; font-weight: bold;">Name</p>
            <input id="name" type="text" placeholder="name" style="border-radius: 2px;
             border: 1px solid white; width: 200px; padding: 5px;">
            <p style="margin-bottom: 5px; font-weight: bold;">Password</p>
            <input id="password" type="text" placeholder="password" style="margin-bottom: 10px;
             border-radius: 2px; border: 1px solid white; width: 200px; padding: 5px;">
            <br>
            <div style="display: flex;">
                <button onclick="signup()" style="margin-bottom: 10px;
                padding: 5px; border: 1px solid black; border-radius: 5px;
                background-color: rgb(47, 255, 137);
                 color: white; font-size: 15px; width: 210px; font-weight: bold;">Sign up</button>
            </div>
        </div>
    </div>
    </div>

    <div style="margin-top: 20px; display: flex; justify-content: center;">
        <div style=" border: 1px solid black; border-radius: 5px;
         width: 250px; display: flex; justify-content: center; background-color: rgb(244, 238, 238);">
            <p>Already have an account? <a href="loginPage.html">Login here</a></p>
        </div>
    </div>

    <script>
        async function signup(){
            const username = document.getElementById('username').value;
            const name = document.getElementById('name').value;
            const password = document.getElementById('password').value;
            let res = await fetch('http://localhost:3000/signup', {
                method : 'POST',
                headers: { 'Content-Type': 'application/json' },
                body : JSON.stringify({username, name, password})
            });
            res = await res;
            const data = await res.json();
            if(res.status == 200){
                window.location.replace('loginPage.html');
            }
        }
    </script>
</body>
</html>